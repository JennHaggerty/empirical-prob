<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
</head>
<body>
	<label for="letter-input">Pick a Letter</label>
	<input id="letter-input" type="text" required="yes" maxlength="1" onkeyup="javascript:validateForm();"></input>

<script type="text/javascript">
var maxNum = 123;
var theString = "";
var letter = "";

buildString( maxNum ); //onetwothree...onehundredtwentythree
findProbability('e');

// BEGIN LOGS
//console.log("letter: " + letter);
//console.log("----- LOGS -----");
console.log("theString.length : " + theString.length );
//console.log("theString : " + theString );
//console.log("----- END LOGS -----");
// BEGIN FUNCTIONS 
function validateForm(){
	var formInput = document.getElementById('letter-input').value;

  if (!/^[a-zA-Z]*$/g.test(formInput)) {
    alert("Must be a letter.");
    return false;
  } else {
		console.log("Form is valid.");
	}
}
function findProbability(arr, err){ // e
console.log("----- FINDING PROBABILITY -----");
console.log("letter: " + arr);
	if(typeof(arr) != "string"){
		console.log("Argument not a string");
		return err;
	} else {
		occurrenceOfLetter = theString.split(arr).length-1; // e = 233
		probability = occurrenceOfLetter/theString.length; // 0.18866..
	console.log("occurenceOfLetter: " + occurrenceOfLetter);
	console.log("probability of Letter of 1: " + probability);
	console.log("Source of truth of 1: " + occurrenceOfLetter + "/" + theString.length + " = " + occurrenceOfLetter/theString.length); // 0.18866..
	console.log("----- END FINDING PROBABILITY -----");
		return letter;
	}
}
function buildString(arr){
	for(var i = 1; i <= arr; i++) {
		var convertedNum = NumberToWords(i); // one hundred twenty three
	
		theString += convertedNum.replace(/\s/g,''); // onehundredtwentythree
	}
}
function NumberToWords(number){ // 123
	var num = new String(number); // "123"
	var splt = num.split(""); // "1", "2", "3"
	var newNumber = splt.reverse(); // "3", "2", "1"
	var first = ['zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];
	var two = ['ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];
	var tens = ['', 'ten', 'twenty ', 'thirty ', 'forty ', 'fifty ', 'sixty ', 'seventy ', 'eighty ', 'ninety '];
 
	var word = new Array();
	var count = 0;
 
	for(i=0; i < newNumber.length; i++){
		switch(i){
			case 0: // newNumber = 3,2,1   word[count] = three
        if ((newNumber[i] == 0) || (newNumber[i + 1] == 1)) { 
            word[count] = '';
        }
        else {
            word[count] = first[newNumber[i]];
        }
				word[count] = word[count];

      	break;
 
			case 1: // newNumber = 3,2,1   word[count] = twenty
				Tens();

        break;
 
			case 2: // newNumber = 3,2,1   word[count] = one hundred
				if (newNumber[i] == 0) {
					word[count] = '';
				}
				else if ((newNumber[i - 1] == 0) || (newNumber[i - 2] == 0)) {
					word[count] = first[newNumber[i]] + " hundred ";
				}
				else {
					word[count] = first[newNumber[i]] + " hundred ";
				}

        break;
			default: break;
		}
		count++;
	}
 
	function Tens() {
		if (newNumber[i] == 0) { 
			word[count] = ''; 
		}else if (newNumber[i] == 1) { 
			word[count] = two[newNumber[i - 1]]; 
		}else {
			word[count] = tens[newNumber[i]]; 
		}
	}
 
	word.reverse(); // ["three", "twenty" , "one hundred"] 
	var result = '';
	for(i=0; i < newNumber.length; i++){ // one hundred // one hundred twenty // one hundred twenty three 
		result = result + word[i];
	}

	//console.log(result);
	return result;
}
</script>
<!-- BEGIN SOCKET.IO -->
<script src="socket.io/socket.io.js"></script>
<script type="text/javascript">
	var socket = io();
	socket.on('fileChanged', function(msg) {
		document.location.reload(true);
	});
</script>
</body>
</html>
